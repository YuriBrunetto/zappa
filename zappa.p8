pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
	gravity=100
	dt=1/60
	player={
		w=4,
		h=8,
		x=8,
		y=8,
		vel=0
	}
end

function _update60()
	player.vel=gravity*dt
	player.y+=player.vel
	
	local dx=0	
	local dy=player.vel*dt
	player.y+=dy
	
	if collide(player) then 
		dy=0
		player.y-=((player.y+player.h+1)%8)-1
	end
end

function _draw()
	cls(1)
	map(0,0)
	spr(2,player.x,player.y)
end
-->8
--collision
function collide(pl)
	local x1=0 local y1=0
	local x2=0 local y2=0
	
	x1=pl.x 		   y1=pl.y+pl.h
	x2=pl.x+pl.w y2=pl.y+pl.h
	
	x1/=8	y1/=8
	x2/=8	y2/=8
	
	if fget(mget(x1,y1),0)
	or fget(mget(x1,y2),0)
	or fget(mget(x2,y1),0)
	or fget(mget(x2,y2),0) then
  return true
	else
  return false
	end
end
__gfx__
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000565566550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700566555650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000556555650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700055565555000aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700555555550008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000556665650008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550080080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0100000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
